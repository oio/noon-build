[{"name":"/Info Layer/info","nodes":[{"id":"43bfe4c1-4434-cb78-2f0b-528161ca35eb","type":"Group","parameters":{"backgroundColor":"#1F1F1FAA"},"ports":[],"children":[{"id":"a0ddf6da-de16-92a6-0c4e-c6976081e936","type":"Group","parameters":{},"ports":[],"children":[]},{"id":"f28e4fd0-6e7b-09cd-f6a5-d1e6b04e6e41","type":"Group","parameters":{"alignY":"top","sizeMode":"explicit","position":"absolute","marginTop":{"value":20,"unit":"px"},"marginLeft":{"value":20,"unit":"px"},"marginBottom":{"value":20,"unit":"px"},"marginRight":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"e4d1970b-53fb-2ea9-a9d9-2c9ac5ece909","type":"Group","parameters":{"backgroundColor":"White","borderRadius":{"value":20,"unit":"px"},"clip":true,"width":{"value":100,"unit":"%"},"height":{"value":100,"unit":"%"},"alignY":"center","alignX":"center","position":"absolute","paddingTop":{"value":12,"unit":"px"},"paddingRight":{"value":20,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"},"maxWidth":{"value":600,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"marginLeft":{"value":0,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"marginRight":{"value":0,"unit":"px"},"scrollEnabled":true,"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"0b622562-e289-8af2-08c2-9e4225ca8848","type":"Text","parameters":{"textAlignX":"left","fontFamily":"fonts/HelveticaNowText-Regular.ttf","text":"Plotting Plates","fontSize":{"value":38,"unit":"px"}},"ports":[],"children":[]},{"id":"462f261c-3222-d844-a10f-278347a878e6","type":"Text","parameters":{"textAlignX":"left","fontFamily":"fonts/HelveticaNowText-Regular.ttf","text":"by oio","marginTop":{"value":10,"unit":"px"},"fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]},{"id":"5ab48ca4-701d-81d4-790d-fd67a99c18e1","type":"Text","parameters":{"textAlignX":"left","fontFamily":"fonts/HelveticaNowText-Regular.ttf","marginTop":{"value":30,"unit":"px"},"text":"In an effort to envision a future where humans and other intelligences work together to solve our planet’s biggest challenges, Plotting Plates is a first simple step towards a more sustainable design process and manufacturing. An experiment with an artificial intelligence trained to identify abundant materials in certain regions, then used to generate truly local products, all different. ","fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]},{"id":"d216e4f7-87f2-07fa-fc64-69c2f68ebb4e","type":"Image","parameters":{"src":"heros.png","sizeMode":"contentHeight","marginTop":{"value":25,"unit":"px"},"marginBottom":{"value":25,"unit":"px"}},"ports":[],"children":[]},{"id":"f26e0b2f-20a5-7318-d282-ec1a079c899b","type":"Text","parameters":{"textAlignX":"left","fontFamily":"fonts/HelveticaNowText-Regular.ttf","text":"The generative algorithm simulates the process of “emergence” where natural products such as fruits, flowers and even animals, emerge from a series of local variables. By reducing transportation and bringing manufacturing closer to the consumer, Plotting Plates aims to be a more sustainable and ethical process.","fontSize":{"value":18,"unit":"px"}},"ports":[],"children":[]},{"id":"55da79fa-f346-5ad3-fe16-c2d712d9d548","type":"net.noodl.controls.button","parameters":{"position":"absolute","zIndex":0,"alignX":"right","useIcon":true,"iconIconSource":{"class":"material-icons","code":"close"},"iconColor":"Primary Light","backgroundColor":"Grey - 900","useLabel":false,"paddingRight":{"value":0,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"sizeMode":"explicit","width":{"value":40,"unit":"px"},"iconSize":{"value":30,"unit":"px"},"iconSpacing":{"value":1,"unit":"px"},"borderRadius":{"value":20,"unit":"px"},"minWidth":{"value":0,"unit":"px"},"marginTop":{"value":20,"unit":"px"},"marginRight":{"value":20,"unit":"px"}},"ports":[],"children":[]}]}]}]},{"id":"25afd983-0dc2-c555-712c-0c6c1195ade1","type":"NavigationClosePopup","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"55da79fa-f346-5ad3-fe16-c2d712d9d548","sourcePort":"onClick","targetId":"25afd983-0dc2-c555-712c-0c6c1195ade1","targetPort":"close"},{"sourceId":"a0ddf6da-de16-92a6-0c4e-c6976081e936","sourcePort":"onClick","targetId":"25afd983-0dc2-c555-712c-0c6c1195ade1","targetPort":"close"}],"ports":[],"roots":["43bfe4c1-4434-cb78-2f0b-528161ca35eb"]},{"name":"/Map Layer/canvas","nodes":[{"id":"72fa8d9f-9df7-4edc-b8fd-7d429a613b65","type":"Group","parameters":{"backgroundColor":"transparent","width":{"value":100,"unit":"%","isFixed":true},"height":{"value":100,"unit":"%","isFixed":true},"blockTouch":true,"styleCss":"/* background-color: red; */\npointer-events: none;\noverflow: hidden;\n","clip":true,"visible":true,"position":"absolute","pointerEventsMode":"explicit","pointerEventsEnabled":false,"alignY":"center","alignX":"center"},"ports":[],"children":[{"id":"63a8e326-4b50-d785-f3cf-99ceb313a2cd","type":"Group","parameters":{"position":"absolute","clip":true,"backgroundColor":"#00000000","width":{"value":100,"unit":"%","isFixed":true},"height":{"value":100,"unit":"%","isFixed":true},"blockTouch":true,"styleCss":"/* background-color: red; */\noverflow: hidden;","visible":true,"cssClassName":"canvas","zIndex":10,"sizeMode":"explicit"},"ports":[],"children":[]}]},{"id":"9759b90b-c603-9379-f10e-cbf52dba2fde","type":"Javascript2","parameters":{"code":"let counter = 0;\nlet resolution = 10;\nvar mapImage; \nvar reset = false;\nvar showMap = true;\nlet revealedPixels = 0;\nlet maxRevealedPixels = 1000;\n\n// initate the p5js canvas\nNode.Signals.InitCanvas = function(){\n    let canvas = document.createElement(\"div\");\n    Node.Inputs.group.getDOMElement().appendChild(canvas);\n    var array = Node.Inputs.itemLocations;\n\n    sketch = function(p) {\n        p.preload = function() {\n            var inputMapData = Node.Inputs.MapboxData;\n            mapImage = p.loadImage(inputMapData);\n        };\n\n        p.setup = function(){\n            p.createCanvas(Node.Inputs.width, Node.Inputs.height);   \n            p.drawingContext.canvas.willReadFrequently = true; \n        }\n        \n        p.draw = function() {\n            if (showMap) {\n                //p.image(mapImage, 0, 0, Node.Inputs.width, Node.Inputs.height);\n                var img = mapImage;\n                img.resize(Node.Inputs.width, Node.Inputs.height);\n\n                if (revealedPixels < maxRevealedPixels) {   \n                        let gridWidth = Math.ceil(img.width / resolution);\n                        let gridHeight = Math.ceil(img.height / resolution);\n\n                        let xIndex = Math.floor(p.random(gridWidth));\n                        let yIndex = Math.floor(p.random(gridHeight));\n\n                        let xPos = xIndex * resolution;\n                        let yPos = yIndex * resolution;\n\n                        let colorAtPixel = img.get(xPos, yPos);\n                        if(p.brightness(colorAtPixel) < 80){ // filter out white\n                            p.fill(colorAtPixel);\n                            p.noStroke();\n                            p.rect(xPos, yPos, resolution, resolution);\n                        }\n                        revealedPixels++;\n                }\n            }else{\n                p.clear();\n            }            \n        }\n\n    };\n    p = new p5(sketch, canvas);\n    \n}\n\nNode.Signals.reLoad = function(){\n    showMap = true;\n    var inputMapData = Node.Inputs.MapboxData;\n    mapImage = p.loadImage(inputMapData);\n}\n\nNode.Signals.mapMove = function(){\n    showMap = false;\n}","useExternalFile":"no","scriptInputs":[],"intype-width":"number","intype-height":"number","intype-gropu":"object","intype-item_x":"number","intype-item_y":"number","intype-dataArray":"array","intype-itemLocations":"array","scriptOutputs":[],"outtype-markerLocations":"array","intype-markerLocations":"array"},"ports":[{"name":"InitCanvas","plug":"input","type":{"name":"signal"},"group":"Inputs","index":5},{"name":"reLoad","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"mapMove","plug":"input","type":{"name":"signal"},"group":"Inputs","index":7},{"name":"group","displayName":"group","plug":"input","type":"*","group":"Inputs","index":8},{"name":"itemLocations","displayName":"itemLocations","plug":"input","type":"*","group":"Inputs","index":9},{"name":"MapboxData","displayName":"MapboxData","plug":"input","type":"*","group":"Inputs","index":10},{"name":"width","displayName":"width","plug":"input","type":"*","group":"Inputs","index":11},{"name":"height","displayName":"height","plug":"input","type":"*","group":"Inputs","index":12}],"children":[]},{"id":"7bb034f6-0728-f796-fb2a-cd8214e7579a","type":"Event Receiver","parameters":{"channelName":"update"},"ports":[],"children":[]},{"id":"ce00f9b6-fbc2-7d1d-e6a2-be5ee1040392","type":"Timer","parameters":{"duration":2000},"ports":[],"children":[]},{"id":"f7320c63-958f-0798-1aa2-0ae2054aaf0b","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"9e9db946-dbaa-b9b3-aeb4-30ec9e6128fa","type":"Event Receiver","parameters":{"channelName":"mapMoving"},"ports":[],"children":[]}],"connections":[{"sourceId":"63a8e326-4b50-d785-f3cf-99ceb313a2cd","sourcePort":"boundingWidth","targetId":"9759b90b-c603-9379-f10e-cbf52dba2fde","targetPort":"width"},{"sourceId":"63a8e326-4b50-d785-f3cf-99ceb313a2cd","sourcePort":"boundingHeight","targetId":"9759b90b-c603-9379-f10e-cbf52dba2fde","targetPort":"height"},{"sourceId":"63a8e326-4b50-d785-f3cf-99ceb313a2cd","sourcePort":"this","targetId":"9759b90b-c603-9379-f10e-cbf52dba2fde","targetPort":"group"},{"sourceId":"63a8e326-4b50-d785-f3cf-99ceb313a2cd","sourcePort":"didMount","targetId":"ce00f9b6-fbc2-7d1d-e6a2-be5ee1040392","targetPort":"start"},{"sourceId":"ce00f9b6-fbc2-7d1d-e6a2-be5ee1040392","sourcePort":"timerFinished","targetId":"9759b90b-c603-9379-f10e-cbf52dba2fde","targetPort":"InitCanvas"},{"sourceId":"f7320c63-958f-0798-1aa2-0ae2054aaf0b","sourcePort":"mapbox","targetId":"9759b90b-c603-9379-f10e-cbf52dba2fde","targetPort":"MapboxData"},{"sourceId":"7bb034f6-0728-f796-fb2a-cd8214e7579a","sourcePort":"eventReceived","targetId":"9759b90b-c603-9379-f10e-cbf52dba2fde","targetPort":"reLoad"},{"sourceId":"9e9db946-dbaa-b9b3-aeb4-30ec9e6128fa","sourcePort":"eventReceived","targetId":"9759b90b-c603-9379-f10e-cbf52dba2fde","targetPort":"mapMove"}],"ports":[{"name":"mapbox","type":"*","group":"Inputs","plug":"input","index":1}],"roots":["72fa8d9f-9df7-4edc-b8fd-7d429a613b65"]}]
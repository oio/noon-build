[{"name":"/about","nodes":[{"id":"90393f61-f784-4bf1-6d4e-4c6f7da02cb3","type":"Group","parameters":{"position":"absolute","height":{"value":40,"unit":"px"},"width":{"value":100,"unit":"%"},"backgroundColor":"Black","zIndex":10,"marginTop":{"value":35,"unit":"px"},"marginLeft":{"value":35,"unit":"px"},"borderRadius":{"value":20,"unit":"px"},"paddingLeft":{"value":16,"unit":"px"},"paddingTop":{"value":9,"unit":"px"},"clip":true,"paddingRight":{"value":16,"unit":"px"},"marginRight":{"value":35,"unit":"px"},"maxWidth":{"value":400,"unit":"px"},"styleCss":"cursor: pointer;"},"stateParameters":{"hover":{}},"ports":[],"children":[{"id":"4abec952-cbcc-0057-a961-ce9b1ba9e88e","type":"Text","parameters":{"fontFamily":"fonts/HelveticaNowText-Light.ttf","sizeMode":"contentSize","text":"Products of Place","alignY":"top","fontSize":{"value":20,"unit":"px"},"marginBottom":{"value":14,"unit":"px"},"position":"relative","zIndex":1,"width":{"value":400,"unit":"px"},"lineHeight":{"value":20,"unit":"px"},"color":"White","marginTop":{"value":0,"unit":"px"}},"ports":[],"children":[]},{"id":"b7b6fac2-e51d-944d-d764-c3135fb7a3ff","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"keyboard_arrow_down"},"position":"absolute","alignY":"top","alignX":"right","paddingRight":{"value":12,"unit":"px"},"iconSize":{"value":25,"unit":"px"},"paddingTop":{"value":8,"unit":"px"}},"ports":[],"children":[]},{"id":"03b5852c-e4bd-6c0b-306b-d43e6be2ae42","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"keyboard_arrow_up"},"position":"absolute","alignY":"top","alignX":"right","paddingRight":{"value":12,"unit":"px"},"iconSize":{"value":25,"unit":"px"},"paddingTop":{"value":8,"unit":"px"}},"ports":[],"children":[]},{"id":"0358c93b-980a-0870-aa11-a8a6d235493e","type":"Group","parameters":{"maxWidth":{"value":360,"unit":"px"}},"ports":[],"children":[{"id":"a7aa70b8-e96c-33df-359b-742c4b11c785","type":"module.inlineHtml","parameters":{"html":"<p style=\"color: #fff; font-family: HelveticaNowText-Light\">Can Al help us design in a truly local and scalable way?</p>\n<p style=\"color: #fff; font-family: HelveticaNowText-Light\">We asked artificial intelligence to design more sustainable products, using unexpected material abundance in different locations across the world.</p>\n<p style=\"color: #fff; font-family: HelveticaNowText-Light\">By <a style=\"color: #FF6621;\" href=\"https://oio.studio\">oio</a> for <a style=\"color: #FF6621;\"href=\"https://space10.com\">SPACE10</a>.</p>\n<p style=\"color: #fff; font-family: HelveticaNowText-Light\">SPACE 10 is a research and design lab on a mission to create a better everyday life for people and the planet.<br/><br/>Oio is a creative company working on products and tools for a less-boring future.</p>"},"ports":[],"children":[]}]}]},{"id":"fb70061f-a237-ca0d-8a22-49cc5c96fbd2","type":"States","parameters":{"states":"close,open","values":"height,show_up,show_down","value-close-height":40,"value-open-height":350,"type-show_up":"boolean","type-show_down":"boolean","useTransitions":true,"value-close-show_up":true,"value-open-show_down":true,"transition-close-height":{"curve":[0.63,0,0.44,1],"dur":300,"delay":0},"transition-open-height":{"curve":[0.61,0.01,0.41,0.99],"dur":300,"delay":0}},"ports":[],"children":[]},{"id":"6570f90b-358c-db64-de30-67178127d128","type":"Expression","parameters":{"expression":"a + 60\n\n"},"ports":[],"children":[]},{"id":"ecc88056-e4de-80a3-795d-ecdbc6052f45","type":"Event Receiver","parameters":{"channelName":"mapMoving"},"ports":[],"children":[]},{"id":"7b2f1f29-14bf-9fbb-2b51-4fc0741d0e70","type":"JavaScriptFunction","parameters":{"functionScript":"function getScreenOrientation() {\n  if (window.innerWidth > window.innerHeight) {\n    Outputs.margin = 35;\n  } else {\n    if (window.innerWidth < 550) {\n      Outputs.margin = 20;\n    }else{\n      Outputs.margin = 35;\n    }\n    \n  }\n}\n\nfunction onWindowResize() {\n  getScreenOrientation();\n}\n\n// Listen for window resize events\nwindow.addEventListener('resize', onWindowResize);\n\n// Call the function initially to get the current orientation and check the window width\nonWindowResize();"},"ports":[{"name":"out-margin","displayName":"margin","plug":"output","type":"*","group":"Outputs","index":4}],"children":[]},{"id":"3aceefda-0195-78e4-bd0f-6184bd87df3a","type":"States","parameters":{"states":"out,hover","values":"size,height","value-out-size":400,"value-hover-size":415,"value-out-height":40,"value-hover-height":41},"ports":[],"children":[]}],"connections":[{"sourceId":"90393f61-f784-4bf1-6d4e-4c6f7da02cb3","sourcePort":"onClick","targetId":"fb70061f-a237-ca0d-8a22-49cc5c96fbd2","targetPort":"toggle"},{"sourceId":"6570f90b-358c-db64-de30-67178127d128","sourcePort":"result","targetId":"fb70061f-a237-ca0d-8a22-49cc5c96fbd2","targetPort":"value-open-height"},{"sourceId":"fb70061f-a237-ca0d-8a22-49cc5c96fbd2","sourcePort":"show_up","targetId":"b7b6fac2-e51d-944d-d764-c3135fb7a3ff","targetPort":"mounted"},{"sourceId":"fb70061f-a237-ca0d-8a22-49cc5c96fbd2","sourcePort":"show_down","targetId":"03b5852c-e4bd-6c0b-306b-d43e6be2ae42","targetPort":"mounted"},{"sourceId":"a7aa70b8-e96c-33df-359b-742c4b11c785","sourcePort":"boundingHeight","targetId":"6570f90b-358c-db64-de30-67178127d128","targetPort":"a"},{"sourceId":"7b2f1f29-14bf-9fbb-2b51-4fc0741d0e70","sourcePort":"out-margin","targetId":"90393f61-f784-4bf1-6d4e-4c6f7da02cb3","targetPort":"marginLeft"},{"sourceId":"7b2f1f29-14bf-9fbb-2b51-4fc0741d0e70","sourcePort":"out-margin","targetId":"90393f61-f784-4bf1-6d4e-4c6f7da02cb3","targetPort":"marginRight"},{"sourceId":"7b2f1f29-14bf-9fbb-2b51-4fc0741d0e70","sourcePort":"out-margin","targetId":"90393f61-f784-4bf1-6d4e-4c6f7da02cb3","targetPort":"marginTop"},{"sourceId":"7b2f1f29-14bf-9fbb-2b51-4fc0741d0e70","sourcePort":"out-margin","targetId":"90393f61-f784-4bf1-6d4e-4c6f7da02cb3","targetPort":"marginBottom"},{"sourceId":"90393f61-f784-4bf1-6d4e-4c6f7da02cb3","sourcePort":"hoverStart","targetId":"3aceefda-0195-78e4-bd0f-6184bd87df3a","targetPort":"to-hover"},{"sourceId":"90393f61-f784-4bf1-6d4e-4c6f7da02cb3","sourcePort":"hoverEnd","targetId":"3aceefda-0195-78e4-bd0f-6184bd87df3a","targetPort":"to-out"},{"sourceId":"3aceefda-0195-78e4-bd0f-6184bd87df3a","sourcePort":"size","targetId":"90393f61-f784-4bf1-6d4e-4c6f7da02cb3","targetPort":"maxWidth"},{"sourceId":"fb70061f-a237-ca0d-8a22-49cc5c96fbd2","sourcePort":"height","targetId":"90393f61-f784-4bf1-6d4e-4c6f7da02cb3","targetPort":"height"}],"ports":[],"roots":["90393f61-f784-4bf1-6d4e-4c6f7da02cb3"]},{"name":"/Map Layer","nodes":[{"id":"f255ec55-832a-fe31-6015-385a47e295bb","type":"JavaScriptFunction","parameters":{"functionScript":"var map = Inputs.mapbox;\n\nmap.dragRotate.disable();\n// map.scrollZoom.disable();\nmap.setMinZoom(2);\nmap.setMaxZoom(6);"},"ports":[{"name":"in-mapbox","displayName":"mapbox","plug":"input","type":"*","group":"Inputs","index":4}],"children":[]},{"id":"d8b11f76-0880-addc-9921-7047fadb847e","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"aa68469f-b37a-7b64-7be6-fd728b7f4ea7","type":"Javascript2","parameters":{"code":"\n\nNode.Signals.Initiate = function () {\n    var cities = Node.Inputs.array;\n\n    var all_markers = document.getElementsByClassName(\"mapboxgl-marker\");\n    \n    // find the closest marker\n    var closest_marker = 0;\n    var min_distance = 10000;\n    for (let j = 0; j < all_markers.length; j++) {\n        \n        var x = all_markers[j].getBoundingClientRect().left;\n        var y = all_markers[j].getBoundingClientRect().top;\n\n        var d = dist(x,y,Node.Inputs.dotx, Node.Inputs.doty);\n        //console.log(d);\n        \n        if(d < min_distance){\n          min_distance = d; \n          closest_marker = j;\n        }\n    }\n    \n    // find the id from the closest marker\n    var id = all_markers[closest_marker].getAttribute(\"data-ndl-marker-id\")\n    \n    for (let i = 0; i < cities.length; i++) {\n      \n      if( id === cities[i].id){\n        //console.log(cities[i]);\n        Node.Outputs.city = cities[i].city_name;\n        Node.Outputs.material = cities[i].material;\n        Node.Outputs.why = cities[i].Why;\n        Node.Outputs.image = cities[i].image.url;\n      }\n    }\n}\n\ndist = function(x1,y1,x2,y2){ \n  if(!x2) x2=0; \n  if(!y2) y2=0;\n  return Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)); \n}\n\n"},"ports":[{"name":"Initiate","plug":"input","type":{"name":"signal"},"group":"Inputs","index":5},{"name":"array","displayName":"array","plug":"input","type":"*","group":"Inputs","index":6},{"name":"dotx","displayName":"dotx","plug":"input","type":"*","group":"Inputs","index":7},{"name":"doty","displayName":"doty","plug":"input","type":"*","group":"Inputs","index":8},{"name":"city","displayName":"city","plug":"output","type":"*","group":"Outputs","index":9},{"name":"material","displayName":"material","plug":"output","type":"*","group":"Outputs","index":10},{"name":"why","displayName":"why","plug":"output","type":"*","group":"Outputs","index":11},{"name":"image","displayName":"image","plug":"output","type":"*","group":"Outputs","index":12}],"children":[]},{"id":"95ce48d5-4a55-ea1c-64db-34bd8c176c2a","type":"Event Sender","parameters":{"channelName":"pointerUp"},"ports":[],"children":[]},{"id":"ee7d198c-ed5e-be17-51dd-488943da6fa2","type":"States","parameters":{"states":"idle,moving","values":"size","value-idle-size":70,"value-moving-size":30,"transitiondef-idle":{"curve":[0,0,1,1],"dur":2000,"delay":0},"transitiondef-moving":{"curve":[0,0,1,1],"dur":300,"delay":0},"transition-idle-size":{"curve":[0,0,1,1],"dur":1000,"delay":0}},"ports":[],"children":[]},{"id":"dd021124-a73a-e1ea-5e41-1bc982bc4956","type":"Event Sender","parameters":{"channelName":"pointerDown"},"ports":[],"children":[]},{"id":"bf07269a-f7c2-488e-808b-96a15088ef1f","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"26335e0f-b8f1-3c76-cc22-7ebae67afc19","type":"Event Sender","parameters":{"channelName":"mapMoving"},"ports":[],"children":[]},{"id":"49a683b9-eb02-e718-9c3e-6b01a5580fdd","type":"Timer","parameters":{"duration":2000},"ports":[],"children":[]},{"id":"55389694-dfbc-2185-ec2c-4fc5c47c158a","type":"JavaScriptFunction","parameters":{"functionScript":"var array = Inputs.Array;\nvar random_city = array[Math.floor(Math.random() * array.length)];\n\n// Store starting latitude and longitude\nvar startLat = Inputs.currentLat;\nvar startLon = Inputs.currentLon;\n\n// Store ending latitude and longitude\nvar endLat = random_city.Lat;\nvar endLon = random_city.Lon;\n\n// Set duration for the animation in milliseconds\nvar duration = 2000;\n\n// Calculate the number of steps and the time interval for each step\nvar steps = 60; // Number of steps for the animation\nvar interval = duration / steps;\n\n// Start the animation\nanimateLocation(0);\n\nfunction animateLocation(step) {\n  if (step <= steps) {\n    // Calculate progress from 0 to 1\n    var progress = step / steps;\n\n    // Apply easing function to the progress value\n    var easedProgress = cubicEaseInOut(progress);\n\n    // Interpolate latitude and longitude using the eased progress\n    Outputs.newLat = lerp(startLat, endLat, easedProgress);\n    Outputs.newLon = lerp(startLon, endLon, easedProgress);\n\n    // Schedule the next step of the animation\n    setTimeout(() => animateLocation(step + 1), interval);\n  } else {\n    // Call newLocation at the end of the animation\n    Outputs.newLocation();\n  }\n}\n\n// Linear interpolation function\nfunction lerp(start, end, progress) {\n  return start + (end - start) * progress;\n}\n\nfunction cubicEaseInOut(t) {\n  return t < 0.5 ? 4 * t * t * t : 1 - Math.pow(-2 * t + 2, 3) / 2;\n}"},"ports":[{"name":"in-Array","displayName":"Array","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-currentLat","displayName":"currentLat","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-currentLon","displayName":"currentLon","plug":"input","type":"*","group":"Inputs","index":6},{"name":"out-newLocation","displayName":"newLocation","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-newLat","displayName":"newLat","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-newLon","displayName":"newLon","plug":"output","type":"*","group":"Outputs","index":9}],"children":[]},{"id":"c92da5e8-d087-f413-cea8-fb5d0a3cf405","type":"Timer","parameters":{"duration":200},"ports":[],"children":[]},{"id":"6f00c62a-07d6-d824-a501-d2357a98fc04","type":"Timer","parameters":{"duration":16000},"ports":[],"children":[]},{"id":"e3288d35-f19e-8583-dd4b-713771d35855","type":"Group","parameters":{"height":{"value":100,"unit":"%","isFixed":false},"borderRadius":{"value":20,"unit":"px"},"clip":true},"ports":[],"children":[{"id":"bcf5636d-a80b-f803-639f-5a5584d276da","type":"Group","parameters":{"width":{"value":100,"unit":"%","isFixed":true},"height":{"value":100,"unit":"%","isFixed":true},"position":"relative","alignX":"right","clip":true,"borderRadius":{"value":20,"unit":"px"},"boxShadowEnabled":true,"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":0,"unit":"px"},"boxShadowBlurRadius":{"value":10,"unit":"px"},"boxShadowInset":false,"boxShadowColor":"Grey - 300","paddingBottom":{"value":0,"unit":"px"},"sizeMode":"explicit","paddingRight":{"value":0,"unit":"px"}},"ports":[],"children":[{"id":"e67c2f77-893f-f7a6-ec76-37dcd7264837","type":"Group","parameters":{"width":{"value":120,"unit":"%","isFixed":true},"height":{"value":120,"unit":"%","isFixed":true},"alignX":"center","alignY":"center","boxShadowEnabled":false,"boxShadowInset":true,"boxShadowColor":"Grey - 900","position":"absolute"},"ports":[],"children":[{"id":"b1159d29-48b2-e11e-c960-d65ac382c382","type":"Mapbox Map","parameters":{"mapboxStyle":"mapbox://styles/bjoernkarmann/clfqlijwv000301r0d618j9nt","markerType":"image","markerImageSource":"elipse.png","markerImageWidth":{"value":5,"unit":"px"},"markerImageHeight":{"value":5,"unit":"px"},"zoom":3,"longitude":10,"latitute":55},"ports":[],"children":[]}]},{"id":"5ecffc39-26c4-ae83-014f-7a854405f772","type":"Group","parameters":{"sizeMode":"explicit","alignX":"center","alignY":"center","position":"absolute","marginTop":{"value":100,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"pointerEventsMode":"explicit","blockTouch":true,"pointerEventsEnabled":false,"backgroundColor":"Black","width":{"value":155,"unit":"px"},"height":{"value":35,"unit":"px"},"borderRadius":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"492a5602-369b-b365-ef4e-51e0b6c5967d","type":"Text","parameters":{"fontFamily":"fonts/HelveticaNowText-Light.ttf","color":"White","sizeMode":"contentSize","alignX":"center","alignY":"center","text":"Drag to explore"},"ports":[],"children":[]}]},{"id":"e8c9d19b-281b-903f-b264-5a1ff5bcc459","type":"Group","parameters":{"width":{"value":100,"unit":"px","isFixed":true},"height":{"value":100,"unit":"px","isFixed":true},"alignX":"center","alignY":"center","boxShadowEnabled":false,"boxShadowInset":true,"boxShadowColor":"Grey - 900","position":"absolute","clip":true,"borderStyle":"solid","borderWidth":{"value":2,"unit":"px"},"pointerEventsMode":"explicit","pointerEventsEnabled":false,"blockTouch":true,"mixBlendMode":"normal","borderColor":"#d4b8ffff","borderRadius":{"value":100,"unit":"px"},"zIndex":2},"ports":[],"children":[{"id":"27905a37-5794-69e5-9ab8-0f4422715ca3","type":"Group","parameters":{"width":{"value":200,"unit":"px"},"height":{"value":200,"unit":"px"},"alignX":"center","alignY":"center","position":"absolute","pointerEventsMode":"explicit","pointerEventsEnabled":false,"blockTouch":true,"mixBlendMode":"normal","backgroundColor":"transparent"},"ports":[],"children":[{"id":"f415d1dd-f12c-b488-5095-f9f6b7b5a29c","type":"Group","parameters":{"backgroundColor":"Primary Subtle","mixBlendMode":"multiply","position":"relative"},"ports":[],"children":[]}]}]},{"id":"93aeecc4-030e-2bd2-477b-907abf059a95","type":"Group","parameters":{"alignX":"center","alignY":"center","backgroundColor":"#ff6622ff","width":{"value":16,"unit":"px"},"height":{"value":16,"unit":"px"},"borderRadius":{"value":100,"unit":"px"},"zIndex":3},"ports":[],"children":[]}]}]},{"id":"bdf5b9a4-cb9b-5bec-cfa4-4caf6e12508f","type":"States","parameters":{"states":"show,hide","values":"mount","transitiondef-idle":{"curve":[0,0,1,1],"dur":2000,"delay":0},"transitiondef-moving":{"curve":[0,0,1,1],"dur":300,"delay":0},"transition-idle-size":{"curve":[0,0,1,1],"dur":1000,"delay":0},"useTransitions":false,"type-mount":"boolean","value-show-mount":70,"value-hide-mount":false},"ports":[],"children":[]}],"connections":[{"sourceId":"b1159d29-48b2-e11e-c960-d65ac382c382","sourcePort":"map","targetId":"f255ec55-832a-fe31-6015-385a47e295bb","targetPort":"in-mapbox"},{"sourceId":"b1159d29-48b2-e11e-c960-d65ac382c382","sourcePort":"mapLoaded","targetId":"f255ec55-832a-fe31-6015-385a47e295bb","targetPort":"run"},{"sourceId":"bcf5636d-a80b-f803-639f-5a5584d276da","sourcePort":"pointerUp","targetId":"aa68469f-b37a-7b64-7be6-fd728b7f4ea7","targetPort":"Initiate"},{"sourceId":"aa68469f-b37a-7b64-7be6-fd728b7f4ea7","sourcePort":"material","targetId":"d8b11f76-0880-addc-9921-7047fadb847e","targetPort":"material"},{"sourceId":"aa68469f-b37a-7b64-7be6-fd728b7f4ea7","sourcePort":"image","targetId":"d8b11f76-0880-addc-9921-7047fadb847e","targetPort":"image"},{"sourceId":"aa68469f-b37a-7b64-7be6-fd728b7f4ea7","sourcePort":"city","targetId":"d8b11f76-0880-addc-9921-7047fadb847e","targetPort":"city"},{"sourceId":"aa68469f-b37a-7b64-7be6-fd728b7f4ea7","sourcePort":"why","targetId":"d8b11f76-0880-addc-9921-7047fadb847e","targetPort":"why"},{"sourceId":"bcf5636d-a80b-f803-639f-5a5584d276da","sourcePort":"pointerUp","targetId":"95ce48d5-4a55-ea1c-64db-34bd8c176c2a","targetPort":"sendEvent"},{"sourceId":"bcf5636d-a80b-f803-639f-5a5584d276da","sourcePort":"pointerDown","targetId":"ee7d198c-ed5e-be17-51dd-488943da6fa2","targetPort":"to-moving"},{"sourceId":"bcf5636d-a80b-f803-639f-5a5584d276da","sourcePort":"pointerUp","targetId":"ee7d198c-ed5e-be17-51dd-488943da6fa2","targetPort":"to-idle"},{"sourceId":"ee7d198c-ed5e-be17-51dd-488943da6fa2","sourcePort":"size","targetId":"e8c9d19b-281b-903f-b264-5a1ff5bcc459","targetPort":"width"},{"sourceId":"ee7d198c-ed5e-be17-51dd-488943da6fa2","sourcePort":"size","targetId":"e8c9d19b-281b-903f-b264-5a1ff5bcc459","targetPort":"height"},{"sourceId":"bcf5636d-a80b-f803-639f-5a5584d276da","sourcePort":"pointerDown","targetId":"dd021124-a73a-e1ea-5e41-1bc982bc4956","targetPort":"sendEvent"},{"sourceId":"b1159d29-48b2-e11e-c960-d65ac382c382","sourcePort":"longitude","targetId":"d8b11f76-0880-addc-9921-7047fadb847e","targetPort":"lng"},{"sourceId":"b1159d29-48b2-e11e-c960-d65ac382c382","sourcePort":"latitute","targetId":"d8b11f76-0880-addc-9921-7047fadb847e","targetPort":"lat"},{"sourceId":"bf07269a-f7c2-488e-808b-96a15088ef1f","sourcePort":"items","targetId":"b1159d29-48b2-e11e-c960-d65ac382c382","targetPort":"markers"},{"sourceId":"bf07269a-f7c2-488e-808b-96a15088ef1f","sourcePort":"items","targetId":"aa68469f-b37a-7b64-7be6-fd728b7f4ea7","targetPort":"array"},{"sourceId":"93aeecc4-030e-2bd2-477b-907abf059a95","sourcePort":"screenPositionX","targetId":"aa68469f-b37a-7b64-7be6-fd728b7f4ea7","targetPort":"dotx"},{"sourceId":"93aeecc4-030e-2bd2-477b-907abf059a95","sourcePort":"screenPositionY","targetId":"aa68469f-b37a-7b64-7be6-fd728b7f4ea7","targetPort":"doty"},{"sourceId":"b1159d29-48b2-e11e-c960-d65ac382c382","sourcePort":"mapMoved","targetId":"26335e0f-b8f1-3c76-cc22-7ebae67afc19","targetPort":"sendEvent"},{"sourceId":"bcf5636d-a80b-f803-639f-5a5584d276da","sourcePort":"didMount","targetId":"49a683b9-eb02-e718-9c3e-6b01a5580fdd","targetPort":"start"},{"sourceId":"49a683b9-eb02-e718-9c3e-6b01a5580fdd","sourcePort":"timerFinished","targetId":"aa68469f-b37a-7b64-7be6-fd728b7f4ea7","targetPort":"Initiate"},{"sourceId":"49a683b9-eb02-e718-9c3e-6b01a5580fdd","sourcePort":"timerFinished","targetId":"95ce48d5-4a55-ea1c-64db-34bd8c176c2a","targetPort":"sendEvent"},{"sourceId":"bcf5636d-a80b-f803-639f-5a5584d276da","sourcePort":"didMount","targetId":"dd021124-a73a-e1ea-5e41-1bc982bc4956","targetPort":"sendEvent"},{"sourceId":"bf07269a-f7c2-488e-808b-96a15088ef1f","sourcePort":"items","targetId":"55389694-dfbc-2185-ec2c-4fc5c47c158a","targetPort":"in-Array"},{"sourceId":"55389694-dfbc-2185-ec2c-4fc5c47c158a","sourcePort":"out-newLat","targetId":"b1159d29-48b2-e11e-c960-d65ac382c382","targetPort":"latitute"},{"sourceId":"55389694-dfbc-2185-ec2c-4fc5c47c158a","sourcePort":"out-newLon","targetId":"b1159d29-48b2-e11e-c960-d65ac382c382","targetPort":"longitude"},{"sourceId":"b1159d29-48b2-e11e-c960-d65ac382c382","sourcePort":"longitude","targetId":"55389694-dfbc-2185-ec2c-4fc5c47c158a","targetPort":"in-currentLon"},{"sourceId":"b1159d29-48b2-e11e-c960-d65ac382c382","sourcePort":"latitute","targetId":"55389694-dfbc-2185-ec2c-4fc5c47c158a","targetPort":"in-currentLat"},{"sourceId":"55389694-dfbc-2185-ec2c-4fc5c47c158a","sourcePort":"out-newLocation","targetId":"c92da5e8-d087-f413-cea8-fb5d0a3cf405","targetPort":"start"},{"sourceId":"c92da5e8-d087-f413-cea8-fb5d0a3cf405","sourcePort":"timerStarted","targetId":"aa68469f-b37a-7b64-7be6-fd728b7f4ea7","targetPort":"Initiate"},{"sourceId":"c92da5e8-d087-f413-cea8-fb5d0a3cf405","sourcePort":"timerFinished","targetId":"95ce48d5-4a55-ea1c-64db-34bd8c176c2a","targetPort":"sendEvent"},{"sourceId":"c92da5e8-d087-f413-cea8-fb5d0a3cf405","sourcePort":"timerStarted","targetId":"95ce48d5-4a55-ea1c-64db-34bd8c176c2a","targetPort":"sendEvent"},{"sourceId":"c92da5e8-d087-f413-cea8-fb5d0a3cf405","sourcePort":"timerFinished","targetId":"26335e0f-b8f1-3c76-cc22-7ebae67afc19","targetPort":"sendEvent"},{"sourceId":"c92da5e8-d087-f413-cea8-fb5d0a3cf405","sourcePort":"timerFinished","targetId":"ee7d198c-ed5e-be17-51dd-488943da6fa2","targetPort":"to-idle"},{"sourceId":"6f00c62a-07d6-d824-a501-d2357a98fc04","sourcePort":"timerFinished","targetId":"dd021124-a73a-e1ea-5e41-1bc982bc4956","targetPort":"sendEvent"},{"sourceId":"6f00c62a-07d6-d824-a501-d2357a98fc04","sourcePort":"timerFinished","targetId":"ee7d198c-ed5e-be17-51dd-488943da6fa2","targetPort":"to-moving"},{"sourceId":"bcf5636d-a80b-f803-639f-5a5584d276da","sourcePort":"onClick","targetId":"6f00c62a-07d6-d824-a501-d2357a98fc04","targetPort":"restart"},{"sourceId":"b1159d29-48b2-e11e-c960-d65ac382c382","sourcePort":"mapLoaded","targetId":"6f00c62a-07d6-d824-a501-d2357a98fc04","targetPort":"start"},{"sourceId":"6f00c62a-07d6-d824-a501-d2357a98fc04","sourcePort":"timerFinished","targetId":"55389694-dfbc-2185-ec2c-4fc5c47c158a","targetPort":"run"},{"sourceId":"bcf5636d-a80b-f803-639f-5a5584d276da","sourcePort":"pointerUp","targetId":"6f00c62a-07d6-d824-a501-d2357a98fc04","targetPort":"restart"},{"sourceId":"c92da5e8-d087-f413-cea8-fb5d0a3cf405","sourcePort":"timerFinished","targetId":"6f00c62a-07d6-d824-a501-d2357a98fc04","targetPort":"start"},{"sourceId":"b1159d29-48b2-e11e-c960-d65ac382c382","sourcePort":"mapLoaded","targetId":"55389694-dfbc-2185-ec2c-4fc5c47c158a","targetPort":"run"},{"sourceId":"b1159d29-48b2-e11e-c960-d65ac382c382","sourcePort":"mapLoaded","targetId":"26335e0f-b8f1-3c76-cc22-7ebae67afc19","targetPort":"sendEvent"},{"sourceId":"b1159d29-48b2-e11e-c960-d65ac382c382","sourcePort":"mapLoaded","targetId":"95ce48d5-4a55-ea1c-64db-34bd8c176c2a","targetPort":"sendEvent"},{"sourceId":"b1159d29-48b2-e11e-c960-d65ac382c382","sourcePort":"mapLoaded","targetId":"aa68469f-b37a-7b64-7be6-fd728b7f4ea7","targetPort":"Initiate"},{"sourceId":"93aeecc4-030e-2bd2-477b-907abf059a95","sourcePort":"didMount","targetId":"26335e0f-b8f1-3c76-cc22-7ebae67afc19","targetPort":"sendEvent"},{"sourceId":"bcf5636d-a80b-f803-639f-5a5584d276da","sourcePort":"pointerDown","targetId":"bdf5b9a4-cb9b-5bec-cfa4-4caf6e12508f","targetPort":"to-hide"},{"sourceId":"bdf5b9a4-cb9b-5bec-cfa4-4caf6e12508f","sourcePort":"mount","targetId":"5ecffc39-26c4-ae83-014f-7a854405f772","targetPort":"mounted"}],"ports":[{"name":"adress","type":"*","plug":"output","index":1},{"name":"items","type":"array","plug":"input","index":1},{"name":"lat","type":"number","plug":"output","index":2},{"name":"lng","type":"number","plug":"output","index":3},{"name":"city","type":"*","plug":"output","index":4},{"name":"why","type":"*","plug":"output","index":5},{"name":"material","type":"*","plug":"output","index":6},{"name":"image","type":"*","plug":"output","index":7}],"roots":["e3288d35-f19e-8583-dd4b-713771d35855"]},{"name":"/Info Layer","nodes":[{"id":"32409f8c-dbc9-ca43-8da2-266a1dc4bb46","type":"Group","parameters":{"width":{"value":100,"unit":"%"},"height":{"value":100,"unit":"%","isFixed":false},"backgroundColor":"White","zIndex":2,"marginTop":{"value":0,"unit":"px"},"borderRadius":{"value":20,"unit":"px"},"alignX":"left","boxShadowEnabled":false,"boxShadowOffsetY":{"value":6,"unit":"px"},"boxShadowBlurRadius":{"value":0,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"sizeMode":"contentHeight","alignY":"bottom","flexDirection":"row","position":"relative","marginBottom":{"value":0,"unit":"px"},"paddingBottom":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"023e56b2-5355-2d00-d4bf-56ddd1bf2fcf","type":"Group","parameters":{"width":{"value":30,"unit":"%","isFixed":false},"sizeMode":"explicit","height":{"value":100,"unit":"%","isFixed":false},"paddingRight":{"value":28,"unit":"px"},"paddingLeft":{"value":14,"unit":"px"},"paddingTop":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"034f2c2f-d682-b895-a560-7e24d044cf82","type":"Group","parameters":{"sizeMode":"contentHeight","height":{"value":90,"unit":"px"},"marginBottom":{"value":14,"unit":"px"}},"ports":[],"children":[{"id":"07621602-2174-f99a-868e-d12bec75820a","type":"Text","parameters":{"fontFamily":"fonts/HelveticaNowText-Regular.ttf","sizeMode":"contentHeight","text":"Location","alignY":"top","fontSize":{"value":20,"unit":"px"},"marginBottom":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"104d21d0-8a7a-0127-742e-3423f0189b7f","type":"/Info Layer/pill","parameters":{"color":"#ff6622ff","label":"Odense"},"ports":[],"children":[]},{"id":"b0ae3b2e-ecdf-232e-3e4f-2b3711b593f0","type":"Text","parameters":{"fontFamily":"fonts/HelveticaNowText-Light.ttf","sizeMode":"contentHeight","text":"Adress\n","alignY":"top","color":"Grey - 600","marginTop":{"value":8,"unit":"px"},"width":{"value":120,"unit":"%"}},"ports":[],"children":[]}]},{"id":"70c9f8d0-354f-38dc-e490-df21ceae6606","type":"Group","parameters":{"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"0bc4e3fd-7338-8a43-6dab-98795321f718","type":"Text","parameters":{"fontFamily":"fonts/HelveticaNowText-Regular.ttf","sizeMode":"contentHeight","text":"Material","alignY":"top","fontSize":{"value":20,"unit":"px"},"marginBottom":{"value":5,"unit":"px"}},"ports":[],"children":[]},{"id":"ca4cf983-622f-868a-b875-f726c334d1e1","type":"/Info Layer/pill","parameters":{"color":"#d4b8ffff","label":"Fishing nets"},"ports":[],"children":[]}]}]}]},{"id":"aa1fd7af-ca75-1407-ba50-63109c205459","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"06071b02-3992-dab2-05a2-dbe285f42315","type":"String Format","parameters":{"format":"{lat}, {lng}"},"ports":[],"children":[]},{"id":"8d678538-21f0-3c6e-8ebe-f720fbc9d4ad","type":"Event Receiver","parameters":{"channelName":"pointerUp"},"ports":[],"children":[]},{"id":"53642cea-3c7d-3426-06f0-c1fee2997451","type":"Event Receiver","parameters":{"channelName":"pointerDown"},"ports":[],"children":[]},{"id":"7acf3896-1098-eedd-9eb3-6561c863399c","type":"States","parameters":{"states":"idle,moving","values":"opacity,display,loading","transitiondef-idle":{"curve":[0.42,0,0.58,1],"dur":300,"delay":1000},"transitiondef-moving":{"curve":[0.42,0,0.58,1],"dur":300,"delay":0},"type-opacity":"number","value-idle-opacity":1,"value-moving-opacity":0,"transition-idle-opacity":{"curve":[0.42,0,0.58,1],"dur":300,"delay":0},"transition-moving-opacity":{"curve":[0.42,0,0.58,1],"dur":300,"delay":500},"value-moving-loading":10,"type-display":"boolean","value-moving-display":false,"value-idle-loading":100,"type-textDisplay":"boolean","value-moving-textDisplay":true,"value-idle-textDisplay":false,"value-idle-display":true,"transition-idle-loading":{"curve":[0,0,1,1],"dur":2000,"delay":0},"transition-moving-loading":{"curve":[0,0,1,1],"dur":300,"delay":0}},"ports":[],"children":[]},{"id":"eacd1a1e-1b9b-ca95-eb2d-e996c34e70e0","type":"States","parameters":{"states":"idle,moving","values":"display","transitiondef-idle":{"curve":[0.42,0,0.58,1],"dur":0,"delay":600},"transitiondef-moving":{"curve":[0.42,0,0.58,1],"dur":0,"delay":0},"type-opacity":"number","value-idle-opacity":0,"value-moving-opacity":1,"transition-idle-opacity":{"curve":[0.42,0,0.58,1],"dur":300,"delay":0},"transition-moving-opacity":{"curve":[0.42,0,0.58,1],"dur":300,"delay":500},"value-moving-loading":20,"type-display":"boolean","value-moving-display":false,"value-idle-loading":200,"type-textDisplay":"boolean","value-moving-textDisplay":true,"value-idle-textDisplay":false,"value-idle-display":true,"useTransitions":true},"ports":[],"children":[]},{"id":"2b103300-b2b3-0294-e27c-3eb2942c11d5","type":"Timer","parameters":{"duration":1100},"ports":[],"children":[]},{"id":"14e5165c-bb89-59b6-f8fb-15dad9c2a5d0","type":"JavaScriptFunction","parameters":{"functionScript":"var fullText = Inputs.text.split(\" \");\nvar tempText = \"\";\nvar counter = 0; \n\nfunction animateText() {\n    if(Inputs.ResetText){\n        console.log(\"trigger got!\");\n        fullText = \" \";\n        tempText = \" \";\n        counter = 10000;\n        clearInterval(animationInterval);\n        return;\n    }\n    if (counter < fullText.length) {\n        tempText += fullText[counter] + \" \";\n        Outputs.rollingText = tempText;\n        counter++;\n    } else {\n        Outputs.textDone();\n        clearInterval(animationInterval);\n    }\n}\n\nvar animationInterval = setInterval(animateText, 50); // Update every 500 milliseconds (0.5 seconds)\n"},"ports":[{"name":"in-text","displayName":"text","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-ResetText","displayName":"ResetText","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-textDone","displayName":"textDone","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-rollingText","displayName":"rollingText","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"442d88d4-369a-0f65-125b-c3aa2a8dc6e2","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.lat = Inputs.lat.toFixed(3);\nOutputs.lng = Inputs.lng.toFixed(3);"},"ports":[{"name":"in-lat","displayName":"lat","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-lng","displayName":"lng","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-lat","displayName":"lat","plug":"output","type":"*","group":"Outputs","index":6},{"name":"out-lng","displayName":"lng","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"e0ae34e4-e2f1-c351-4423-64e597c3bca4","type":"Value Changed","parameters":{},"ports":[],"children":[]},{"id":"a17d3f75-c7b2-f25e-c450-cfd0b37d0a40","type":"Inverter","parameters":{},"ports":[],"children":[]},{"id":"7bc5bb8a-5d33-7b6e-bc7d-489798d4b634","type":"JavaScriptFunction","parameters":{"functionScript":"function checkWindowWidth() {\n  if (window.innerWidth < 800) {\n    Outputs.Phone();\n  }else{\n    Outputs.Desktop();\n  }\n}\n\n// Call checkWindowWidth initially to check the current window width\ncheckWindowWidth();\n\n// Add an event listener to handle window resizing\nwindow.addEventListener('resize', checkWindowWidth);"},"ports":[{"name":"out-Phone","displayName":"Phone","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Desktop","displayName":"Desktop","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[]},{"id":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","type":"States","parameters":{"states":"phone,desktop","values":"text,padding,hieght,top","value-phone-text":16,"value-desktop-text":18,"value-phone-padding":2,"value-desktop-padding":5,"value-desktop-hieght":40,"value-phone-hieght":35,"value-phone-top":0,"value-desktop-top":10},"ports":[],"children":[]},{"id":"5ed39caf-76ac-952f-f9b5-469ed637efe1","type":"Component Outputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"06071b02-3992-dab2-05a2-dbe285f42315","sourcePort":"formatted","targetId":"b0ae3b2e-ecdf-232e-3e4f-2b3711b593f0","targetPort":"text"},{"sourceId":"aa1fd7af-ca75-1407-ba50-63109c205459","sourcePort":"material","targetId":"ca4cf983-622f-868a-b875-f726c334d1e1","targetPort":"label"},{"sourceId":"aa1fd7af-ca75-1407-ba50-63109c205459","sourcePort":"city","targetId":"104d21d0-8a7a-0127-742e-3423f0189b7f","targetPort":"label"},{"sourceId":"7acf3896-1098-eedd-9eb3-6561c863399c","sourcePort":"display","targetId":"ca4cf983-622f-868a-b875-f726c334d1e1","targetPort":"display"},{"sourceId":"53642cea-3c7d-3426-06f0-c1fee2997451","sourcePort":"eventReceived","targetId":"7acf3896-1098-eedd-9eb3-6561c863399c","targetPort":"to-moving"},{"sourceId":"8d678538-21f0-3c6e-8ebe-f720fbc9d4ad","sourcePort":"eventReceived","targetId":"7acf3896-1098-eedd-9eb3-6561c863399c","targetPort":"to-idle"},{"sourceId":"53642cea-3c7d-3426-06f0-c1fee2997451","sourcePort":"eventReceived","targetId":"eacd1a1e-1b9b-ca95-eb2d-e996c34e70e0","targetPort":"to-moving"},{"sourceId":"eacd1a1e-1b9b-ca95-eb2d-e996c34e70e0","sourcePort":"display","targetId":"ca4cf983-622f-868a-b875-f726c334d1e1","targetPort":"textDisplay"},{"sourceId":"7acf3896-1098-eedd-9eb3-6561c863399c","sourcePort":"loading","targetId":"ca4cf983-622f-868a-b875-f726c334d1e1","targetPort":"width"},{"sourceId":"8d678538-21f0-3c6e-8ebe-f720fbc9d4ad","sourcePort":"eventReceived","targetId":"2b103300-b2b3-0294-e27c-3eb2942c11d5","targetPort":"start"},{"sourceId":"2b103300-b2b3-0294-e27c-3eb2942c11d5","sourcePort":"timerFinished","targetId":"eacd1a1e-1b9b-ca95-eb2d-e996c34e70e0","targetPort":"to-idle"},{"sourceId":"eacd1a1e-1b9b-ca95-eb2d-e996c34e70e0","sourcePort":"at-moving","targetId":"14e5165c-bb89-59b6-f8fb-15dad9c2a5d0","targetPort":"in-ResetText"},{"sourceId":"aa1fd7af-ca75-1407-ba50-63109c205459","sourcePort":"why","targetId":"14e5165c-bb89-59b6-f8fb-15dad9c2a5d0","targetPort":"in-text"},{"sourceId":"eacd1a1e-1b9b-ca95-eb2d-e996c34e70e0","sourcePort":"reached-idle","targetId":"14e5165c-bb89-59b6-f8fb-15dad9c2a5d0","targetPort":"run"},{"sourceId":"aa1fd7af-ca75-1407-ba50-63109c205459","sourcePort":"lat","targetId":"442d88d4-369a-0f65-125b-c3aa2a8dc6e2","targetPort":"in-lat"},{"sourceId":"aa1fd7af-ca75-1407-ba50-63109c205459","sourcePort":"lng","targetId":"442d88d4-369a-0f65-125b-c3aa2a8dc6e2","targetPort":"in-lng"},{"sourceId":"aa1fd7af-ca75-1407-ba50-63109c205459","sourcePort":"lat","targetId":"e0ae34e4-e2f1-c351-4423-64e597c3bca4","targetPort":"value"},{"sourceId":"e0ae34e4-e2f1-c351-4423-64e597c3bca4","sourcePort":"valueChanged","targetId":"442d88d4-369a-0f65-125b-c3aa2a8dc6e2","targetPort":"run"},{"sourceId":"442d88d4-369a-0f65-125b-c3aa2a8dc6e2","sourcePort":"out-lat","targetId":"06071b02-3992-dab2-05a2-dbe285f42315","targetPort":"lat"},{"sourceId":"442d88d4-369a-0f65-125b-c3aa2a8dc6e2","sourcePort":"out-lng","targetId":"06071b02-3992-dab2-05a2-dbe285f42315","targetPort":"lng"},{"sourceId":"7acf3896-1098-eedd-9eb3-6561c863399c","sourcePort":"display","targetId":"104d21d0-8a7a-0127-742e-3423f0189b7f","targetPort":"display"},{"sourceId":"7acf3896-1098-eedd-9eb3-6561c863399c","sourcePort":"display","targetId":"a17d3f75-c7b2-f25e-c450-cfd0b37d0a40","targetPort":"value"},{"sourceId":"a17d3f75-c7b2-f25e-c450-cfd0b37d0a40","sourcePort":"result","targetId":"b0ae3b2e-ecdf-232e-3e4f-2b3711b593f0","targetPort":"mounted"},{"sourceId":"7bc5bb8a-5d33-7b6e-bc7d-489798d4b634","sourcePort":"out-Phone","targetId":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","targetPort":"to-phone"},{"sourceId":"7bc5bb8a-5d33-7b6e-bc7d-489798d4b634","sourcePort":"out-Desktop","targetId":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","targetPort":"to-desktop"},{"sourceId":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","sourcePort":"text","targetId":"07621602-2174-f99a-868e-d12bec75820a","targetPort":"fontSize"},{"sourceId":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","sourcePort":"text","targetId":"104d21d0-8a7a-0127-742e-3423f0189b7f","targetPort":"textSize"},{"sourceId":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","sourcePort":"text","targetId":"b0ae3b2e-ecdf-232e-3e4f-2b3711b593f0","targetPort":"fontSize"},{"sourceId":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","sourcePort":"text","targetId":"0bc4e3fd-7338-8a43-6dab-98795321f718","targetPort":"fontSize"},{"sourceId":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","sourcePort":"text","targetId":"ca4cf983-622f-868a-b875-f726c334d1e1","targetPort":"textSize"},{"sourceId":"14e5165c-bb89-59b6-f8fb-15dad9c2a5d0","sourcePort":"out-rollingText","targetId":"5ed39caf-76ac-952f-f9b5-469ed637efe1","targetPort":"text"},{"sourceId":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","sourcePort":"padding","targetId":"104d21d0-8a7a-0127-742e-3423f0189b7f","targetPort":"padding"},{"sourceId":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","sourcePort":"padding","targetId":"ca4cf983-622f-868a-b875-f726c334d1e1","targetPort":"padding"},{"sourceId":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","sourcePort":"hieght","targetId":"104d21d0-8a7a-0127-742e-3423f0189b7f","targetPort":"height"},{"sourceId":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","sourcePort":"hieght","targetId":"ca4cf983-622f-868a-b875-f726c334d1e1","targetPort":"height"},{"sourceId":"5d9b2c1c-9306-c4ae-41f4-393dd4278526","sourcePort":"top","targetId":"023e56b2-5355-2d00-d4bf-56ddd1bf2fcf","targetPort":"paddingTop"}],"ports":[{"name":"text","type":"*","plug":"output","index":1},{"name":"location","type":"*","plug":"input","index":1},{"name":"adress","type":"*","plug":"input","index":2},{"name":"map moved","type":"*","plug":"input","index":3},{"name":"width","type":"*","plug":"input","index":4},{"name":"lat","type":{"name":"*"},"group":"Inputs","plug":"input","index":5},{"name":"lng","type":"*","group":"Inputs","plug":"input","index":6},{"name":"material","type":{"name":"string","multiline":true},"default":"Fishing nets","group":"Text","plug":"input","index":7},{"name":"image","type":"*","plug":"input","index":8},{"name":"why","type":"*","group":"Inputs","plug":"input","index":9},{"name":"city","type":{"name":"string","multiline":true},"default":"Odense","group":"Text","plug":"input","index":10}],"roots":["32409f8c-dbc9-ca43-8da2-266a1dc4bb46"]},{"name":"/Info Layer/pill","nodes":[{"id":"bbccad0f-e17e-e6a7-b43e-11864171a5e8","type":"Group","parameters":{"sizeMode":"contentWidth","paddingTop":{"value":5,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"paddingBottom":{"value":5,"unit":"px"},"borderRadius":{"value":30,"unit":"px"},"transformX":{"value":-5,"unit":"px"},"height":{"value":40,"unit":"px"},"width":{"value":0,"unit":"px"},"minWidth":{"value":10,"unit":"px"},"clip":true,"flexWrap":"wrap","maxWidth":{"value":120,"unit":"%"}},"ports":[],"children":[{"id":"67fbddc7-4f3c-cbd5-e8af-e68ebc10a677","type":"Text","parameters":{"sizeMode":"contentSize","alignY":"center","alignX":"left","marginLeft":{"value":10,"unit":"px"},"marginRight":{"value":10,"unit":"px"},"fontSize":{"value":20,"unit":"px"}},"ports":[],"children":[]}]},{"id":"1b991693-071a-f5af-7e1d-141be6188a00","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"1b991693-071a-f5af-7e1d-141be6188a00","sourcePort":"label","targetId":"67fbddc7-4f3c-cbd5-e8af-e68ebc10a677","targetPort":"text"},{"sourceId":"1b991693-071a-f5af-7e1d-141be6188a00","sourcePort":"color","targetId":"bbccad0f-e17e-e6a7-b43e-11864171a5e8","targetPort":"backgroundColor"},{"sourceId":"1b991693-071a-f5af-7e1d-141be6188a00","sourcePort":"opacity","targetId":"bbccad0f-e17e-e6a7-b43e-11864171a5e8","targetPort":"opacity"},{"sourceId":"1b991693-071a-f5af-7e1d-141be6188a00","sourcePort":"display","targetId":"bbccad0f-e17e-e6a7-b43e-11864171a5e8","targetPort":"mounted"},{"sourceId":"1b991693-071a-f5af-7e1d-141be6188a00","sourcePort":"textDisplay","targetId":"67fbddc7-4f3c-cbd5-e8af-e68ebc10a677","targetPort":"mounted"},{"sourceId":"1b991693-071a-f5af-7e1d-141be6188a00","sourcePort":"width","targetId":"bbccad0f-e17e-e6a7-b43e-11864171a5e8","targetPort":"minWidth"},{"sourceId":"1b991693-071a-f5af-7e1d-141be6188a00","sourcePort":"textSize","targetId":"67fbddc7-4f3c-cbd5-e8af-e68ebc10a677","targetPort":"fontSize"},{"sourceId":"1b991693-071a-f5af-7e1d-141be6188a00","sourcePort":"padding","targetId":"bbccad0f-e17e-e6a7-b43e-11864171a5e8","targetPort":"paddingLeft"},{"sourceId":"1b991693-071a-f5af-7e1d-141be6188a00","sourcePort":"padding","targetId":"bbccad0f-e17e-e6a7-b43e-11864171a5e8","targetPort":"paddingRight"},{"sourceId":"1b991693-071a-f5af-7e1d-141be6188a00","sourcePort":"padding","targetId":"bbccad0f-e17e-e6a7-b43e-11864171a5e8","targetPort":"paddingTop"},{"sourceId":"1b991693-071a-f5af-7e1d-141be6188a00","sourcePort":"padding","targetId":"bbccad0f-e17e-e6a7-b43e-11864171a5e8","targetPort":"paddingBottom"},{"sourceId":"1b991693-071a-f5af-7e1d-141be6188a00","sourcePort":"height","targetId":"bbccad0f-e17e-e6a7-b43e-11864171a5e8","targetPort":"height"}],"ports":[{"name":"label","type":{"name":"string","multiline":true},"default":"Text","group":"Text","plug":"input","index":1},{"name":"color","type":"color","default":"transparent","group":"Style","plug":"input","index":2},{"name":"opacity","type":"number","default":1,"group":"Style","plug":"input","index":3},{"name":"width","type":{"name":"number","units":["%","px","vw","vh"],"defaultUnit":"%"},"default":{"value":10,"unit":"px"},"group":"Dimension Constraints","plug":"input","index":4},{"name":"display","type":"boolean","default":true,"group":"General","plug":"input","index":5},{"name":"textDisplay","type":"boolean","default":true,"group":"General","plug":"input","index":6},{"name":"textSize","type":{"name":"number","units":["px"],"defaultUnit":"px","parentPort":"textStyle"},"default":{"value":20,"unit":"px"},"group":"Text Style","plug":"input","index":7},{"name":"padding","type":{"name":"number"},"group":"Margin and padding","plug":"input","index":8},{"name":"height","type":{"name":"dimension","units":["%","px","vw","vh"],"defaultUnit":"%"},"default":{"value":40,"unit":"px"},"group":"Dimensions","plug":"input","index":9}],"roots":["bbccad0f-e17e-e6a7-b43e-11864171a5e8"]},{"name":"/Info Layer/image","nodes":[{"id":"ea47c065-d0aa-e2da-a724-093e29114369","type":"Timer","parameters":{"duration":1000},"ports":[],"children":[]},{"id":"df627980-9a0e-c09b-4320-4f7b6381d970","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"08f9c9c4-4398-52b4-a9ac-5dd5730b89b5","type":"Group","parameters":{"position":"absolute","sizeMode":"explicit","width":{"value":100,"unit":"%","isFixed":true},"height":{"value":100,"unit":"%","isFixed":true},"alignY":"center","alignX":"center"},"ports":[],"children":[{"id":"f57b9370-2370-0614-a0c4-b6a193d66739","type":"Group","parameters":{"width":{"value":100,"unit":"px","isFixed":true},"height":{"value":100,"unit":"px","isFixed":true},"position":"relative","clip":true,"borderRadius":{"value":20,"unit":"px"},"backgroundColor":"Grey - 200","boxShadowEnabled":false,"boxShadowBlurRadius":{"value":10,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowColor":"Grey - 300"},"ports":[],"children":[{"id":"7d9ef611-9921-a494-5ead-b1a0025d75f1","type":"Group","parameters":{"backgroundColor":"White","borderRadius":{"value":20,"unit":"px"},"clip":true,"width":{"value":100,"unit":"%","isFixed":true},"height":{"value":100,"unit":"%","isFixed":true}},"ports":[],"children":[{"id":"a8bb52f3-9af0-7128-6112-ae396f304052","type":"Group","parameters":{"clip":true,"sizeMode":"explicit","cssClassName":"canvasContainer","position":"sticky","opacity":1,"mixBlendMode":"multiply","borderRadius":{"value":20,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"e628c436-49b3-ef86-f4d9-d728131e3f94","type":"Group","parameters":{"mounted":true,"visible":true,"position":"relative","height":{"value":1,"unit":"px"},"alignY":"bottom"},"ports":[],"children":[]}]},{"id":"6077b983-6a53-6ce1-ccdb-6780783bbd91","type":"Event Receiver","parameters":{"channelName":"pointerUp"},"ports":[],"children":[]},{"id":"2d898560-14ff-e981-2790-17a2265ee352","type":"Switch","parameters":{},"ports":[],"children":[]},{"id":"03fadbea-9609-cf7e-6d0c-59193b05ac82","type":"JavaScriptFunction","parameters":{"functionScript":"// Initialize the canvas when the signal is sent\nif (Inputs.InitCanvasSignal) {\n  //let container = document.querySelector('.canvasContainer')\n  let p5Image;\n  let fetchInProgress = false;\n  let imgSrcCheck;\n  let startTime;\n  let duration = 1800;\n  let resolutions = [2, 4, 8, 16, 32, 64, 80, 100, 120];\n  let currentIndex = 0;\n\n  let canvas = document.createElement(\"div\");\n  document.querySelector('.canvasContainer').appendChild(canvas);\n  \n  sketch = function (p) {\n    p.setup = function () {\n      p.createCanvas(Inputs.width, Inputs.height)\n      startTime = p.millis();\n    }\n\n    p.draw = function () {\n      p.background(255)\n\n      if (p5Image) {\n        //p.image(p5Image, 0, 0, Inputs.width*2, Inputs.height*2)\n        \n\n        let elapsedTime = p.millis() - startTime;\n\n        if (elapsedTime < duration) {\n          let progress = elapsedTime / duration;\n          let index = Math.floor(progress * resolutions.length);\n          currentIndex = index;\n        } else {\n          currentIndex = -1;\n        }\n        if (currentIndex >= 0 && currentIndex < resolutions.length) {\n          p.pixelateImage(p5Image, resolutions[currentIndex]);\n        } else {\n          p.image(p5Image, 0, 0);\n        }\n      }\n      \n      if(Inputs.pointerUp){\n        fetchInProgress = true;\n        p5Image = false;\n      }\n\n      if (fetchInProgress) {\n        // true while on pointer up\n        if(imgSrcCheck == Inputs.imgSrc){\n          // already fetched return; \n          return;\n        }else{\n          // store src and continue\n          imgSrcCheck = Inputs.imgSrc\n        }\n        var imgSrc = Inputs.imgSrc\n        console.log(imgSrc)\n        \n        // fetch png img from src\n        fetch(imgSrc)\n          .then((response) => response.blob())\n          .then((blob) => {\n            let img = new Image()\n            img.src = URL.createObjectURL(blob)\n            img.onload = () => {\n              p5Image = p.createImage(img.width, img.height)\n              p5Image.drawingContext.drawImage(img, 0, 0)\n              p5Image = p.cropRandomCorner(p5Image, p5Image.width/2, p5Image.height/2);\n              fetchInProgress = false;\n              startTime = p.millis();\n            }\n          })\n          .catch((error) => {\n            console.error('Error fetching image:', error)\n          })\n        \n        fetchInProgress = false;\n      }\n      \n    }\n    p.pixelateImage = function (img, resolution) {\n      // Calculate the size of each square based on the input resolution\n      let squareWidth = img.width / resolution;\n      let squareHeight = img.height / resolution;\n\n      // Iterate through the image and sample the color at each step based on the input resolution\n      for (let y = 0; y < img.height; y += squareHeight) {\n        for (let x = 0; x < img.width; x += squareWidth) {\n          let centerX = x + squareWidth / 2;\n          let centerY = y + squareHeight / 2;\n\n          // Get the color at the center of the square\n          let color = img.get(centerX, centerY);\n          // Set the fill color to the sampled color\n          p.noStroke();\n          p.fill(color);\n          //p.ellipse(x, y, squareWidth+1, squareHeight+1);\n          p.rect(x, y, squareWidth+1, squareHeight+1);\n        }\n      }\n    }\n    \n    p.cropRandomCorner = function (img, cropWidth, cropHeight) {\n      // Ensure the crop dimensions are smaller than the original image dimensions\n      if (cropWidth > img.width || cropHeight > img.height) {\n        console.error(\"Crop dimensions are larger than the original image dimensions.\");\n        return img;\n      }\n\n      // Randomly select one of the four corners\n      let corner = Math.floor(p.random(4));\n\n      let x, y;\n\n      switch (corner) {\n        case 0: // Top-left corner\n          x = 0;\n          y = 0;\n          break;\n        case 1: // Top-right corner\n          x = img.width - cropWidth;\n          y = 0;\n          break;\n        case 2: // Bottom-left corner\n          x = 0;\n          y = img.height - cropHeight;\n          break;\n        case 3: // Bottom-right corner\n          x = img.width - cropWidth;\n          y = img.height - cropHeight;\n          break;\n      }\n\n      // Get the cropped section of the image\n      let croppedImage = img.get(x, y, cropWidth, cropHeight);\n\n      croppedImage.resize(Inputs.width, Inputs.height);\n      return croppedImage;\n    }\n\n    p.windowResized = function () {\n      p.resizeCanvas(Inputs.width, Inputs.height)\n    }\n  }\n\n  p = new p5(sketch, canvas)\n}\n\n"},"ports":[{"name":"in-InitCanvasSignal","displayName":"InitCanvasSignal","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-width","displayName":"width","plug":"input","type":"*","group":"Inputs","index":5},{"name":"in-height","displayName":"height","plug":"input","type":"*","group":"Inputs","index":6},{"name":"in-pointerUp","displayName":"pointerUp","plug":"input","type":"*","group":"Inputs","index":7},{"name":"in-imgSrc","displayName":"imgSrc","plug":"input","type":"*","group":"Inputs","index":8}],"children":[]},{"id":"456d54e7-3056-eba3-29e1-6ca172696652","type":"Timer","parameters":{"duration":1},"ports":[],"children":[]},{"id":"1efaa6de-c218-373c-a93d-3e1563f6e596","type":"Event Receiver","parameters":{"channelName":"mapMoving"},"ports":[],"children":[]},{"id":"14552f46-b848-3256-c22c-750584586db9","type":"Timer","parameters":{"duration":3000},"ports":[],"children":[]}],"connections":[{"sourceId":"a8bb52f3-9af0-7128-6112-ae396f304052","sourcePort":"didMount","targetId":"ea47c065-d0aa-e2da-a724-093e29114369","targetPort":"start"},{"sourceId":"6077b983-6a53-6ce1-ccdb-6780783bbd91","sourcePort":"eventReceived","targetId":"2d898560-14ff-e981-2790-17a2265ee352","targetPort":"on"},{"sourceId":"e628c436-49b3-ef86-f4d9-d728131e3f94","sourcePort":"boundingWidth","targetId":"f57b9370-2370-0614-a0c4-b6a193d66739","targetPort":"width"},{"sourceId":"e628c436-49b3-ef86-f4d9-d728131e3f94","sourcePort":"boundingWidth","targetId":"f57b9370-2370-0614-a0c4-b6a193d66739","targetPort":"height"},{"sourceId":"ea47c065-d0aa-e2da-a724-093e29114369","sourcePort":"timerFinished","targetId":"03fadbea-9609-cf7e-6d0c-59193b05ac82","targetPort":"in-InitCanvasSignal"},{"sourceId":"f57b9370-2370-0614-a0c4-b6a193d66739","sourcePort":"boundingWidth","targetId":"03fadbea-9609-cf7e-6d0c-59193b05ac82","targetPort":"in-width"},{"sourceId":"f57b9370-2370-0614-a0c4-b6a193d66739","sourcePort":"boundingHeight","targetId":"03fadbea-9609-cf7e-6d0c-59193b05ac82","targetPort":"in-height"},{"sourceId":"2d898560-14ff-e981-2790-17a2265ee352","sourcePort":"switchedToOn","targetId":"456d54e7-3056-eba3-29e1-6ca172696652","targetPort":"start"},{"sourceId":"2d898560-14ff-e981-2790-17a2265ee352","sourcePort":"state","targetId":"03fadbea-9609-cf7e-6d0c-59193b05ac82","targetPort":"in-pointerUp"},{"sourceId":"456d54e7-3056-eba3-29e1-6ca172696652","sourcePort":"timerFinished","targetId":"2d898560-14ff-e981-2790-17a2265ee352","targetPort":"off"},{"sourceId":"df627980-9a0e-c09b-4320-4f7b6381d970","sourcePort":"img","targetId":"03fadbea-9609-cf7e-6d0c-59193b05ac82","targetPort":"in-imgSrc"},{"sourceId":"1efaa6de-c218-373c-a93d-3e1563f6e596","sourcePort":"eventReceived","targetId":"2d898560-14ff-e981-2790-17a2265ee352","targetPort":"off"},{"sourceId":"a8bb52f3-9af0-7128-6112-ae396f304052","sourcePort":"didMount","targetId":"14552f46-b848-3256-c22c-750584586db9","targetPort":"start"},{"sourceId":"14552f46-b848-3256-c22c-750584586db9","sourcePort":"timerFinished","targetId":"2d898560-14ff-e981-2790-17a2265ee352","targetPort":"on"},{"sourceId":"ea47c065-d0aa-e2da-a724-093e29114369","sourcePort":"timerFinished","targetId":"2d898560-14ff-e981-2790-17a2265ee352","targetPort":"off"}],"ports":[{"name":"img","type":"*","group":"Inputs","plug":"input","index":1}],"roots":["08f9c9c4-4398-52b4-a9ac-5dd5730b89b5"]}]